    
    
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    
<style>
@font-face{font-family:Raleway;font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4WjNPrQ.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:italic;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4ejMPrQ.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4TbMPrQ.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4WjMPrQ.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4VrMPrQ.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:italic;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4bbLPrQ.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4Y_LPrQ.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:italic;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4ejLPrQ.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4cHLPrQ.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVvao4CP.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVtaooCP.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEooCP.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVvaooCP.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVvoooCP.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVsEpYCP.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVs9pYCP.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVtapYCP.ttf) format('truetype')}@font-face{font-family:Raleway;font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v34/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVtzpYCP.ttf) format('truetype')}body{font:19px/1.6 Open Sans,Ubuntu,Nimbus Sans L,Avenir,AvenirNext,Segoe UI,Helvetica,Arial,sans-serif;color:#222}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}a{background-color:transparent}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}*,:after,:before{box-sizing:inherit}html{box-sizing:border-box;font-size:62.5%}body{color:#606c76;font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:1.6em;font-weight:300;letter-spacing:.01em;line-height:1.6}hr{border-top:.1rem solid #f4f5f6}.container{margin:0 auto;max-width:112rem;padding:0 2rem;position:relative;width:100%}a{color:#9b4dca}p{margin-bottom:2.5rem}h1,p{margin-top:0}h1{font-weight:300;letter-spacing:-.1rem;margin-bottom:2rem}h1{font-size:4.6rem;line-height:1.2}html{min-height:100%;position:relative;-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;touch-action:manipulation}body,html{background-color:#fff}body{font:19px/1.6 Raleway,Helvetica,Arial,Lucida,sans-serif;color:#222}h1{page-break-after:avoid;page-break-inside:avoid}hr{border:0;border-top:.1rem solid #c62129;margin:3rem 0}a{color:#0070be;border-bottom:.08em solid rgba(0,0,0,.1);padding-bottom:.08em}a{text-decoration:none}main{-webkit-animation:1s fade-in;animation:1s fade-in}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}header{text-align:center;margin-bottom:15px}.post header h1 a{color:#222;text-decoration:none;border-bottom:0}.post p:first-child:first-letter{float:left;font-family:Georgia;font-size:71px;line-height:50px;padding-top:5px;padding-right:8px}.ns-main{max-width:750px;padding:0 1.5em;margin:3% auto}.ns-post-summary{color:#000}.ns-readmore{margin-bottom:2.2em}.ns-tags,time{color:#626262;font-size:.85em}.pie{background:#000;border-radius:50%;box-shadow:0 0 4px 5px rgba(0,0,0,.2);height:400px;left:-200px;position:absolute;top:-200px;width:400px;transform:translateX(-200px) translateY(-200px);z-index:1}.pie1{-webkit-clip-path:polygon(200px 200px,344px 450px,0 450px);clip-path:polygon(200px 200px,344px 450px,0 450px)}.pie2{-webkit-clip-path:polygon(200px 200px,344px 450px,450px 344px);clip-path:polygon(200px 200px,344px 450px,450px 344px)}.pie3{-webkit-clip-path:polygon(200px 200px,450px 0,450px 344px);clip-path:polygon(200px 200px,450px 0,450px 344px)}.pie-color{width:100%;height:100%;border-radius:50%}.pie-color-hyperlink{font-size:1.7rem;letter-spacing:.05em;font-weight:700;color:#fff}.pie-color1{background:linear-gradient(135deg,#c62129,#c62129);-webkit-clip-path:polygon(200px 200px,344px 450px,0 450px);clip-path:polygon(200px 200px,344px 450px,0 450px)}.pie-color2{background:linear-gradient(135deg,#fff,#fff);-webkit-clip-path:polygon(200px 200px,344px 450px,450px 344px);clip-path:polygon(200px 200px,344px 450px,450px 344px)}.pie-color3{background:linear-gradient(135deg,#c62129,#c62129);-webkit-clip-path:polygon(200px 200px,450px 0,450px 344px);clip-path:polygon(200px 200px,450px 0,450px 344px)}.linkedin{left:208px;position:absolute;top:320px}.music{left:282px;top:279px}.rss,.music{position:absolute;width:46px}.rss{left:324px;top:210px}.menu{background:#fff;border-radius:50%;box-shadow:0 0 4px 5px rgba(0,0,0,.2);height:200px;left:-100px;position:absolute;top:-100px;width:200px;z-index:1}.hamburger{height:46px;left:58%;position:relative;top:58%;width:46px}.hamburger path:first-child{transform-origin:25% 29%}.hamburger path:nth-child(2){transform-origin:50% 50%}.hamburger path:nth-child(3){transform-origin:75% 72%}.hamburger path:nth-child(4){transform-origin:75% 29%}.hamburger path:nth-child(5){transform-origin:25% 72%}.hero-image{background-image:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url('https://normansolutions.co.uk/img/BandHeader.jpg?v=fingerprint')}.hero-image{min-height:280px;height:50%;box-shadow:-5px 24px 65px -31px rgba(0,0,0,.75);background-position:50%;background-repeat:no-repeat;background-size:cover;position:relative}.hero-text{text-align:center;color:#fff;position:absolute;top:50%;left:50%;background-color:rgba(0,0,0,.5);padding:10px;margin-top:10px;margin-bottom:10px;border-radius:10px;transform:translate(-50%,-50%)}@media (min-width:1024px) and (max-width:1366px) and (orientation:portrait){.hero-text{width:80%}}@media (min-width:1024px) and (max-width:1366px) and (orientation:landscape){.hero-text{width:40%}}.hero-text a{color:#fff}.hero-text a,.hero-text a :visited{border-bottom:0}.ns-tagline{padding-top:25px;padding-left:15px;padding-right:15px}.ns-social,.ns-tagline{margin:auto;max-width:800px;position:relative;text-align:center}footer{position:fixed;color:#fff;height:45px;background-color:#000;bottom:0;text-align:center;width:100%;z-index:9999}footer p{padding-top:8px}
</style>


    <title>PowerBI with Cloudflare</title>
    <meta
      name="Keywords"
      content="Technology, IT, Education, Software, Security"
    />
    <meta
      name="Description"
      content="Head of Information Services, Web Technologist &amp;amp; Musician, based on the Wiltshire, Dorset &amp; Somerset border in the UK.  Offering honest independent advice on all things web, security and general IT; with a splash of added music for the soul."
    />

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1"
    />
    <meta name="robots" content="index,follow" />
    <meta name="Author" content="normansolutions.co.uk" />
    <meta name="language" content="EN" />
    <meta name="Classification" content="" />
    <meta
      name="copyright"
      content="Copyright (c) 2025 'normansolutions.co.uk' All rights reserved."
    />
    <meta name="revisit-after" content="7 days" />
    <meta name="document-classification" content="Technology" />
    <meta name="document-type" content="Public" />
    <meta name="document-rating" content="Safe for Kids" />
    <meta name="document-distribution" content="Global" />
    <link rel="me" type="text/html" href="https://twitter.com/normansolutions" />
    <link
      type="application/rsd+xml"
      rel="edituri"
      title="RSD"
      href="robots.txt"
    />
    <link rel="canonical" href="https://normansolutions.co.uk" />
    <meta name="application-name" content="Normansolutions" />
    <meta name="msapplication-TileColor" content="#ffffff" />

    <meta property="og:title" content="NS News and Views" />
    <meta property="og:type" content=article />   
    <meta
      property="og:description"
      content="Head of Information Services, Web Technologist &amp;amp; Musician, based on the Wiltshire, Dorset &amp; Somerset border in the UK.  Offering honest independent advice on all things web, security and general IT; with a splash of added music for the soul."
    />
    <meta
      property="og:image"
      content="https://normansolutions.co.uk/appicons/Icon-568.jpg"
    />
    <meta property="og:url" content="https://normansolutions.co.uk" />
    <meta property=og:description content="Head of Information Services, Web Technologist &amp;amp; Musician, based on the Wiltshire, Dorset &amp; Somerset border in the UK.  Offering honest independent advice on all things web, security and general IT; with a splash of added music for the soul.">

    <meta name="twitter:title" content="NS News and Views" />
    <meta
      name="twitter:description"
      content="Head of Information Services, Web Technologist &amp;amp; Musician, based on the Wiltshire, Dorset &amp; Somerset border in the UK.  Offering honest independent advice on all things web, security and general IT; with a splash of added music for the soul."    />
    <meta name="twitter:image" content="/appicons/Icon-568.jpg" />
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    















<link
  rel="preload"
  href="/css/main.min.337fb04e5e11d86dcac1094c32bfa7bb45a79cf2fb6ba493bb55244df14c6249.css?v=ns-fingerprint"
  integrity="sha256-M3&#43;wTl4R2G3KwQlMMr&#43;nu0WnnPL7a6STu1UkTfFMYkk="
  as="style"
  crossorigin="anonymous"
/>
<link
  rel="stylesheet"
  href="/css/main.min.337fb04e5e11d86dcac1094c32bfa7bb45a79cf2fb6ba493bb55244df14c6249.css?v=ns-fingerprint"
  integrity="sha256-M3&#43;wTl4R2G3KwQlMMr&#43;nu0WnnPL7a6STu1UkTfFMYkk="
  media="print"
  onload="this.media='all'"
  crossorigin="anonymous"
/>

    

    
    <script>
      !(function (document) {
        "use strict";
        var webpImage,
          avifImage =
            "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAF0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgS0AAAAAABNjb2xybmNseAACAAIAAIAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAGVtZGF0EgAKBzgAPtAgIAkyUBAAAPWc41TP///4gHBX9H8XVK7gGeDllq8TYARA+8Tfsv7L+zPE24eIoIzE0WhHbrqcrTK9VEgEG/hwgB5rdCbvP8g3KYPdV88CvPJnptgQ",
          webpClass = "webp",
          avifClass = "avif";
        function alreadyTested(format) {
          if (window.sessionStorage) {
            var test = window.sessionStorage.getItem(format + "Support");
            if ("false" === test || "true" === test) return "true" === test;
          }
          return null;
        }
        function testFormat(format, imageSrc, callback) {
          var tested = alreadyTested(format);
          if (null === tested) {
            var image = new Image();
            return (
              (image.onload = image.onerror = function () {
                callback(format, 2 === image.height);
              }),
              void (image.src = imageSrc)
            );
          }
          addClass(format, tested);
        }
        function addClass(format, support) {
          if (support) {
            var el = document.documentElement;
            el.classList
              ? el.classList.add("webp" === format ? "webp" : "avif")
              : (el.className += " " + format == "webp" ? "webp" : "avif"),
              window.sessionStorage.setItem(format + "Support", !0);
          } else window.sessionStorage.setItem(format + "Support", !1);
        }
        testFormat(
          "webp",
          "data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",
          addClass
        ),
          testFormat("avif", avifImage, addClass);
      })(document);
    </script>

    <script src="https://polyfill.io/v2/polyfill.min.js?features=IntersectionObserver"></script>
  </head>
  <body itemscope itemtype=http://schema.org/WebPage></body>
</html>

    <div class="pie pie1" onclick="document.body.classList.remove('active')">
  <a href="https://www.linkedin.com/in/normansolutions" target="_blank">
    <div class="pie-color pie-color1">
      <span class="pie-color-hyperlink linkedin">
        <svg width="64px" height="64px" viewBox="-2.16 -2.16 28.32 28.32" fill="none"
          xmlns="http://www.w3.org/2000/svg">

          <g id="SVGRepo_bgCarrier" stroke-width="0" />

          <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />

          <g id="SVGRepo_iconCarrier">
            <path
              d="M22 3.47059V20.5294C22 20.9194 21.8451 21.2935 21.5693 21.5693C21.2935 21.8451 20.9194 22 20.5294 22H3.47059C3.08056 22 2.70651 21.8451 2.43073 21.5693C2.15494 21.2935 2 20.9194 2 20.5294V3.47059C2 3.08056 2.15494 2.70651 2.43073 2.43073C2.70651 2.15494 3.08056 2 3.47059 2H20.5294C20.9194 2 21.2935 2.15494 21.5693 2.43073C21.8451 2.70651 22 3.08056 22 3.47059ZM7.88235 9.64706H4.94118V19.0588H7.88235V9.64706ZM8.14706 6.41177C8.14861 6.18929 8.10632 5.96869 8.02261 5.76255C7.93891 5.55642 7.81542 5.36879 7.65919 5.21039C7.50297 5.05198 7.31708 4.92589 7.11213 4.83933C6.90718 4.75277 6.68718 4.70742 6.46471 4.70588H6.41177C5.95934 4.70588 5.52544 4.88561 5.20552 5.20552C4.88561 5.52544 4.70588 5.95934 4.70588 6.41177C4.70588 6.86419 4.88561 7.29809 5.20552 7.61801C5.52544 7.93792 5.95934 8.11765 6.41177 8.11765C6.63426 8.12312 6.85565 8.0847 7.06328 8.00458C7.27092 7.92447 7.46074 7.80422 7.62189 7.65072C7.78304 7.49722 7.91237 7.31346 8.00248 7.10996C8.09259 6.90646 8.14172 6.6872 8.14706 6.46471V6.41177ZM19.0588 13.3412C19.0588 10.5118 17.2588 9.41177 15.4706 9.41177C14.8851 9.38245 14.3021 9.50715 13.7799 9.77345C13.2576 10.0397 12.8143 10.4383 12.4941 10.9294H12.4118V9.64706H9.64706V19.0588H12.5882V14.0529C12.5457 13.5403 12.7072 13.0315 13.0376 12.6372C13.3681 12.2429 13.8407 11.9949 14.3529 11.9471H14.4647C15.4 11.9471 16.0941 12.5353 16.0941 14.0176V19.0588H19.0353L19.0588 13.3412Z"
              fill="#ffffff" />
          </g>

        </svg></span>
    </div>
  </a>
</div>
<div class="pie pie2" onclick="document.body.classList.remove('active')">
  <a href="https://www.facebook.com/outoforderbanduk" target="_blank">
    <div class="pie-color pie-color2">
      <span class="pie-color-hyperlink music">
        
        <svg fill="#C62129" height="64px" width="64px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-46.08 -46.08 604.16 604.16" xml:space="preserve">

          <g id="SVGRepo_bgCarrier" stroke-width="0" />

          <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />

          <g id="SVGRepo_iconCarrier">
            <g transform="translate(0 -1)">
              <g>
                <g>
                  <path
                    d="M443.313,40.189C398.235,16.019,326.214,1,255.387,1C185.137,1,113.521,15.848,68.55,39.784 C35.803,57.213,13.617,87.101,4.486,121.021l491.947,98.389c3.605-8.96,6.571-17.003,8.747-23.701 C524.785,135.357,498.779,69.949,443.313,40.189z" />
                  <path
                    d="M255.347,513h0.021h0.128c60.608,0,128.128-84.139,178.325-168.725L34.525,264.403 C82.611,364.947,175.133,512.957,255.347,513z" />
                  <path
                    d="M6.154,196.462c1.899,5.824,4.416,12.693,7.403,20.245l442.304,88.448c8.512-15.915,16.213-31.339,23.019-45.76 L0.33,163.694C1.034,174.638,2.613,185.604,6.154,196.462z" />
                </g>
              </g>
            </g>
          </g>

        </svg>

      </span>
    </div>
  </a>
</div>
<div class="pie pie3" onclick="document.body.classList.remove('active')">
  <a href="/index.xml">
    <div class="pie-color pie-color3">
      <span class="pie-color-hyperlink rss">
        <svg fill="#C62129" width="64px" height="64px" viewBox="-46.08 -46.08 604.16 604.16"
          xmlns="http://www.w3.org/2000/svg">

          <g id="SVGRepo_bgCarrier" stroke-width="0" />

          <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />

          <g id="SVGRepo_iconCarrier">

            <path
              d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634-5.214-80.05-69.243-143.92-149.123-149.123-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425 110.546 5.974 198.997 94.536 204.964 204.964.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432 167.83 6.025 302.21 141.191 308.205 308.205.232 6.449-4.978 11.787-11.432 11.787z"
              fill="#ffffff" />

          </g>

        </svg>
      </span>
    </div>
  </a>
</div>
<div class="menu" onclick="document.body.classList.toggle('active')">
  <svg class="hamburger" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
    <g fill="none" stroke="#000" stroke-width="7.999" stroke-linecap="round">
      <path d="M 55,26.000284 L 24.056276,25.999716" />
      <path d="M 24.056276,49.999716 L 75.943724,50.000284" />
      <path d="M 45,73.999716 L 75.943724,74.000284" />
      <path d="M 75.943724,26.000284 L 45,25.999716" />
      <path d="M 24.056276,73.999716 L 55,74.000284" />
    </g>
  </svg>
</div>
    <div class="hero-image">
  <div class="hero-text">
    <h1><a href="\">NS News &amp; Views</a></h1>
    <div class="ns-tagline">By Clive Norman</div>
    
    <h5>38 articles</h5>
    
  </div>
</div>

<div class="ns-social">
  <a target="_blank" href="https://www.linkedin.com/in/normansolutions">
    
    <svg width="64px" height="64px" viewBox="-2.16 -2.16 28.32 28.32" fill="none" xmlns="http://www.w3.org/2000/svg">

      <g id="SVGRepo_bgCarrier" stroke-width="0" />

      <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />

      <g id="SVGRepo_iconCarrier">
        <path
          d="M22 3.47059V20.5294C22 20.9194 21.8451 21.2935 21.5693 21.5693C21.2935 21.8451 20.9194 22 20.5294 22H3.47059C3.08056 22 2.70651 21.8451 2.43073 21.5693C2.15494 21.2935 2 20.9194 2 20.5294V3.47059C2 3.08056 2.15494 2.70651 2.43073 2.43073C2.70651 2.15494 3.08056 2 3.47059 2H20.5294C20.9194 2 21.2935 2.15494 21.5693 2.43073C21.8451 2.70651 22 3.08056 22 3.47059ZM7.88235 9.64706H4.94118V19.0588H7.88235V9.64706ZM8.14706 6.41177C8.14861 6.18929 8.10632 5.96869 8.02261 5.76255C7.93891 5.55642 7.81542 5.36879 7.65919 5.21039C7.50297 5.05198 7.31708 4.92589 7.11213 4.83933C6.90718 4.75277 6.68718 4.70742 6.46471 4.70588H6.41177C5.95934 4.70588 5.52544 4.88561 5.20552 5.20552C4.88561 5.52544 4.70588 5.95934 4.70588 6.41177C4.70588 6.86419 4.88561 7.29809 5.20552 7.61801C5.52544 7.93792 5.95934 8.11765 6.41177 8.11765C6.63426 8.12312 6.85565 8.0847 7.06328 8.00458C7.27092 7.92447 7.46074 7.80422 7.62189 7.65072C7.78304 7.49722 7.91237 7.31346 8.00248 7.10996C8.09259 6.90646 8.14172 6.6872 8.14706 6.46471V6.41177ZM19.0588 13.3412C19.0588 10.5118 17.2588 9.41177 15.4706 9.41177C14.8851 9.38245 14.3021 9.50715 13.7799 9.77345C13.2576 10.0397 12.8143 10.4383 12.4941 10.9294H12.4118V9.64706H9.64706V19.0588H12.5882V14.0529C12.5457 13.5403 12.7072 13.0315 13.0376 12.6372C13.3681 12.2429 13.8407 11.9949 14.3529 11.9471H14.4647C15.4 11.9471 16.0941 12.5353 16.0941 14.0176V19.0588H19.0353L19.0588 13.3412Z"
          fill="#C62129" />
      </g>

    </svg>
  </a>
  <a target="_blank" href="https://www.facebook.com/outoforderbanduk">
    
    <svg fill="#C62129" height="64px" width="64px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-46.08 -46.08 604.16 604.16" xml:space="preserve">

      <g id="SVGRepo_bgCarrier" stroke-width="0" />

      <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />

      <g id="SVGRepo_iconCarrier">
        <g transform="translate(0 -1)">
          <g>
            <g>
              <path
                d="M443.313,40.189C398.235,16.019,326.214,1,255.387,1C185.137,1,113.521,15.848,68.55,39.784 C35.803,57.213,13.617,87.101,4.486,121.021l491.947,98.389c3.605-8.96,6.571-17.003,8.747-23.701 C524.785,135.357,498.779,69.949,443.313,40.189z" />
              <path
                d="M255.347,513h0.021h0.128c60.608,0,128.128-84.139,178.325-168.725L34.525,264.403 C82.611,364.947,175.133,512.957,255.347,513z" />
              <path
                d="M6.154,196.462c1.899,5.824,4.416,12.693,7.403,20.245l442.304,88.448c8.512-15.915,16.213-31.339,23.019-45.76 L0.33,163.694C1.034,174.638,2.613,185.604,6.154,196.462z" />
            </g>
          </g>
        </g>
      </g>

    </svg>
  </a>

  <a target="_blank" href="/index.xml">
    
    <svg fill="#C62129" width="64px" height="64px" viewBox="-46.08 -46.08 604.16 604.16"
      xmlns="http://www.w3.org/2000/svg">

      <g id="SVGRepo_bgCarrier" stroke-width="0" />

      <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />

      <g id="SVGRepo_iconCarrier">

        <path
          d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634-5.214-80.05-69.243-143.92-149.123-149.123-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425 110.546 5.974 198.997 94.536 204.964 204.964.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432 167.83 6.025 302.21 141.191 308.205 308.205.232 6.449-4.978 11.787-11.432 11.787z" />

      </g>

    </svg>
  </a>
</div>
    
    
<main itemprop="mainEntity" itemscope="" itemtype="http://schema.org/Blog" class="ns-main"> 
  <h1>PowerBI with Cloudflare</h1>
  <div class="ns-postdate">  
      <time datetime=2025-01-25&#32;13:40:20&#32;&#43;0000&#32;UTC itemprop="datePublished">Published Saturday, Jan 25, 2025</time>
      <span class="ns-tags">| Tags: <a href="/tags/powerbi">PowerBI</a> <a href="/tags/cloudflare">Cloudflare</a> <a href="/tags/data">Data</a> </span>   
      <hr/>
    </div>
    <div id="ns-target">
      <p>Recently, I’ve been working with Power BI to build dashboards displaying a wealth of information. One particular requirement involved pulling in data from Cloudflare to display statistics on blocked traffic.</p>
<h2 id="getting-started-with-the-cloudflare-api">Getting Started with the Cloudflare API</h2>
<p>Cloudflare’s API is well-documented, so I won’t delve into that here. If you need guidance on creating a Cloudflare API token with the necessary permissions, I recommend checking this helpful resource: <a href="https://developers.cloudflare.com/fundamentals/api/get-started/create-token/">Cloudflare API: Create a Token</a>.</p>
<hr>
<h2 id="initial-approach-powershell">Initial Approach: PowerShell</h2>
<p>Initially, I considered using PowerShell to handle this task. The idea was to create a script that would run in an Azure Runbook, extract the required data from Cloudflare, and save it in JSON format to a SharePoint site.</p>
<p>This approach seemed logical until someone asked a simple yet insightful question:</p>
<p><em>“Can’t this be done directly in Power BI using GraphQL?”</em></p>
<hr>
<h2 id="rethink-power-query-m-language">Rethink: Power Query (M Language)</h2>
<p>The truth is, this process can be entirely handled within Power BI, eliminating the need for Runbooks or SharePoint storage.</p>
<p>While I’ll admit that my knowledge of Power Query’s M Language is fairly basic, I found that with a bit of help from CoPilot, I was able to create a script that worked perfectly. This allowed the Power BI dashboard to display the necessary Cloudflare data without any intermediate steps.</p>
<hr>
<p>When working with the Cloudflare API, it’s important to understand some limitations. For instance, the API restricts how much data can be returned in a single call. If you’re dealing with larger datasets (e.g., more than 1,000 rows), you’ll need to implement a paging mechanism.</p>
<p>In this case, I sorted the API results by date and retrieved data in batches. Each subsequent API call used a date range starting where the previous one ended. This ensured I could handle larger volumes of data efficiently.</p>
<hr>
<h3 id="script-overview">Script Overview</h3>
<h4 id="function-definition">Function Definition</h4>
<p><strong>getFirewallEvents</strong> fetches firewall events for a specific zone using a GraphQL query. It supports pagination to handle large datasets.</p>
<h4 id="graphql-query">GraphQL Query</h4>
<p>Defines the structure and filters for retrieving firewall events, including fields such as <strong>action</strong>, <strong>datetime</strong>, and <strong>clientIP</strong>.</p>
<h4 id="time-filtering">Time Filtering</h4>
<p>The script calculates the current time and a time 3 hours ago to filter events within this range.</p>
<h4 id="api-interaction">API Interaction</h4>
<p>Makes authenticated API calls using the <strong>Web.Contents</strong> function and parses JSON responses.</p>
<h4 id="pagination">Pagination</h4>
<p>Uses recursive logic to fetch all event pages when there are more than 1,000 results.</p>
<h4 id="data-transformation">Data Transformation</h4>
<p>Converts the fetched events into a Power Query table, adds metadata (e.g., zone name), and formats the <strong>datetime</strong> column.</p>
<h4 id="zone-processing">Zone Processing</h4>
<p>Fetches a list of zones from the API and applies the <strong>getFirewallEvents</strong> function to each zone.</p>
<h4 id="combine-results">Combine Results</h4>
<p>Combines all zone-specific event tables into a single output table for analysis.</p>
<hr>
<h3 id="notes">Notes</h3>
<ul>
<li>Replace <strong>APIKEY</strong> with your actual Cloudflare API key.</li>
<li>Adjust the time range or filters as required for your use case.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-m" data-lang="m"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>let
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span> Function to get firewall events for a specific zone with pagination
</span></span><span style="display:flex;"><span>    getFirewallEvents <span style="color:#f92672">=</span> (zoneTag as text, zoneName as text) <span style="color:#f92672">=&gt;</span>
</span></span><span style="display:flex;"><span>    let
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Define the GraphQL query to fetch firewall events
</span></span><span style="display:flex;"><span>        query <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">&#34;</span>query ListFirewallEvents(<span style="color:#960050;background-color:#1e0010">$</span>zoneTag<span style="color:#960050;background-color:#1e0010">:</span> String, <span style="color:#960050;background-color:#1e0010">$</span>filter<span style="color:#960050;background-color:#1e0010">:</span> FirewallEventsAdaptiveFilter_InputObject) {
</span></span><span style="display:flex;"><span>                    viewer {
</span></span><span style="display:flex;"><span>                        zones(filter<span style="color:#960050;background-color:#1e0010">:</span> { zoneTag<span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">$</span>zoneTag }) {
</span></span><span style="display:flex;"><span>                            firewallEventsAdaptive(
</span></span><span style="display:flex;"><span>                                filter<span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">$</span>filter
</span></span><span style="display:flex;"><span>                                limit<span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>                                orderBy<span style="color:#960050;background-color:#1e0010">:</span> [datetime_ASC]
</span></span><span style="display:flex;"><span>                            ) {                            
</span></span><span style="display:flex;"><span>                                action
</span></span><span style="display:flex;"><span>                                clientAsn
</span></span><span style="display:flex;"><span>                                clientCountryName
</span></span><span style="display:flex;"><span>                                clientIP
</span></span><span style="display:flex;"><span>                                clientRequestPath
</span></span><span style="display:flex;"><span>                                clientRequestQuery
</span></span><span style="display:flex;"><span>                                datetime
</span></span><span style="display:flex;"><span>                                source
</span></span><span style="display:flex;"><span>                                userAgent
</span></span><span style="display:flex;"><span>                            }
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }<span style="color:#960050;background-color:#1e0010">&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Define the time range<span style="color:#960050;background-color:#1e0010">:</span> current time and <span style="color:#ae81ff">3</span> hours ago in UTC
</span></span><span style="display:flex;"><span>        endDate <span style="color:#f92672">=</span> DateTime<span style="color:#960050;background-color:#1e0010">.</span>ToText(DateTimeZone<span style="color:#960050;background-color:#1e0010">.</span>RemoveZone(DateTimeZone<span style="color:#960050;background-color:#1e0010">.</span>UtcNow()), <span style="color:#e6db74">&#34;yyyy-MM-ddTHH:mm:ss&#34;</span>) <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#34;Z&#34;</span>,
</span></span><span style="display:flex;"><span>        startDate <span style="color:#f92672">=</span> DateTime<span style="color:#960050;background-color:#1e0010">.</span>ToText(DateTimeZone<span style="color:#960050;background-color:#1e0010">.</span>RemoveZone(DateTimeZone<span style="color:#960050;background-color:#1e0010">.</span>UtcNow() <span style="color:#f92672">-</span> #duration(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>)), <span style="color:#e6db74">&#34;yyyy-MM-ddTHH:mm:ss&#34;</span>) <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#34;Z&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Define the action filter
</span></span><span style="display:flex;"><span>        actionStatus <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;block&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> API endpoint and headers for authentication
</span></span><span style="display:flex;"><span>        url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://api.cloudflare.com/client/v4/graphql&#34;</span>,
</span></span><span style="display:flex;"><span>        headers <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            #<span style="color:#e6db74">&#34;Content-Type&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;application/json&#34;</span>, 
</span></span><span style="display:flex;"><span>            Authorization <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Bearer APIKEY&#34;</span>
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Function to fetch a single page of firewall events
</span></span><span style="display:flex;"><span>        fetchPage <span style="color:#f92672">=</span> (lastDatetime) <span style="color:#f92672">=&gt;</span>
</span></span><span style="display:flex;"><span>        let
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">//</span> Define the filter for the query
</span></span><span style="display:flex;"><span>            filter <span style="color:#f92672">=</span> if lastDatetime <span style="color:#f92672">=</span> null then [
</span></span><span style="display:flex;"><span>                datetime_geq <span style="color:#f92672">=</span> startDate,
</span></span><span style="display:flex;"><span>                datetime_leq <span style="color:#f92672">=</span> endDate,
</span></span><span style="display:flex;"><span>                action_like <span style="color:#f92672">=</span> actionStatus
</span></span><span style="display:flex;"><span>            ] else [
</span></span><span style="display:flex;"><span>                datetime_geq <span style="color:#f92672">=</span> lastDatetime,
</span></span><span style="display:flex;"><span>                datetime_leq <span style="color:#f92672">=</span> endDate,
</span></span><span style="display:flex;"><span>                action_like <span style="color:#f92672">=</span> actionStatus
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">//</span> Build the request body
</span></span><span style="display:flex;"><span>            body <span style="color:#f92672">=</span> Json<span style="color:#960050;background-color:#1e0010">.</span>FromValue([
</span></span><span style="display:flex;"><span>                query <span style="color:#f92672">=</span> query,
</span></span><span style="display:flex;"><span>                variables <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                    zoneTag <span style="color:#f92672">=</span> zoneTag,
</span></span><span style="display:flex;"><span>                    filter <span style="color:#f92672">=</span> filter
</span></span><span style="display:flex;"><span>                ]
</span></span><span style="display:flex;"><span>            ]),
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">//</span> Execute the API call and parse the JSON response
</span></span><span style="display:flex;"><span>            response <span style="color:#f92672">=</span> Web<span style="color:#960050;background-color:#1e0010">.</span>Contents(url, [Headers <span style="color:#f92672">=</span> headers, Content <span style="color:#f92672">=</span> body]),
</span></span><span style="display:flex;"><span>            jsonResponse <span style="color:#f92672">=</span> Json<span style="color:#960050;background-color:#1e0010">.</span>Document(response),
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">//</span> Extract the events from the response
</span></span><span style="display:flex;"><span>            events <span style="color:#f92672">=</span> try jsonResponse[data][viewer][zones]{<span style="color:#ae81ff">0</span>}[firewallEventsAdaptive] otherwise null
</span></span><span style="display:flex;"><span>        in
</span></span><span style="display:flex;"><span>            events,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Recursive function to fetch all pages of firewall events
</span></span><span style="display:flex;"><span>        fetchAllPages <span style="color:#f92672">=</span> (lastDatetime) <span style="color:#f92672">=&gt;</span>
</span></span><span style="display:flex;"><span>        let
</span></span><span style="display:flex;"><span>            currentPage <span style="color:#f92672">=</span> fetchPage(lastDatetime),
</span></span><span style="display:flex;"><span>            nextDatetime <span style="color:#f92672">=</span> if currentPage <span style="color:#f92672">&lt;&gt;</span> null and List<span style="color:#960050;background-color:#1e0010">.</span>Count(currentPage) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> then currentPage{List<span style="color:#960050;background-color:#1e0010">.</span>Count(currentPage) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>}[datetime] else null,
</span></span><span style="display:flex;"><span>            combinedPages <span style="color:#f92672">=</span> if nextDatetime <span style="color:#f92672">&lt;&gt;</span> null and List<span style="color:#960050;background-color:#1e0010">.</span>Count(currentPage) <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span> then List<span style="color:#960050;background-color:#1e0010">.</span>Combine({currentPage, <span style="color:#f92672">@</span>fetchAllPages(nextDatetime)}) else currentPage
</span></span><span style="display:flex;"><span>        in
</span></span><span style="display:flex;"><span>            combinedPages,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Fetch all firewall events for the zone
</span></span><span style="display:flex;"><span>        allEvents <span style="color:#f92672">=</span> fetchAllPages(null),
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Convert the events into a table or create an empty table if no events are found
</span></span><span style="display:flex;"><span>        firewallEventsTable <span style="color:#f92672">=</span> if allEvents <span style="color:#f92672">&lt;&gt;</span> null then Table<span style="color:#960050;background-color:#1e0010">.</span>FromRecords(allEvents) else #table(
</span></span><span style="display:flex;"><span>            {<span style="color:#e6db74">&#34;action&#34;</span>, <span style="color:#e6db74">&#34;clientAsn&#34;</span>, <span style="color:#e6db74">&#34;clientCountryName&#34;</span>, <span style="color:#e6db74">&#34;clientIP&#34;</span>, <span style="color:#e6db74">&#34;clientRequestPath&#34;</span>, <span style="color:#e6db74">&#34;clientRequestQuery&#34;</span>, <span style="color:#e6db74">&#34;datetime&#34;</span>, <span style="color:#e6db74">&#34;source&#34;</span>, <span style="color:#e6db74">&#34;userAgent&#34;</span>},
</span></span><span style="display:flex;"><span>            {}
</span></span><span style="display:flex;"><span>        ),
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Add the zone name to the table
</span></span><span style="display:flex;"><span>        firewallEventsWithZone <span style="color:#f92672">=</span> Table<span style="color:#960050;background-color:#1e0010">.</span>AddColumn(firewallEventsTable, <span style="color:#e6db74">&#34;ZoneName&#34;</span>, each zoneName),
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Convert the datetime column to proper datetime format
</span></span><span style="display:flex;"><span>        firewallEventsWithProperDatetime <span style="color:#f92672">=</span> if Table<span style="color:#960050;background-color:#1e0010">.</span>HasColumns(firewallEventsWithZone, <span style="color:#e6db74">&#34;datetime&#34;</span>) then
</span></span><span style="display:flex;"><span>            Table<span style="color:#960050;background-color:#1e0010">.</span>TransformColumns(firewallEventsWithZone, {<span style="color:#e6db74">&#34;datetime&#34;</span>, each if _ <span style="color:#f92672">&lt;&gt;</span> null and _ <span style="color:#f92672">&lt;&gt;</span> <span style="color:#e6db74">&#34;&#34;</span> then DateTime<span style="color:#960050;background-color:#1e0010">.</span>FromText(_) else _})
</span></span><span style="display:flex;"><span>        else
</span></span><span style="display:flex;"><span>            firewallEventsWithZone,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Extract the first datetime and format it in UK format
</span></span><span style="display:flex;"><span>        firstDate <span style="color:#f92672">=</span> if Table<span style="color:#960050;background-color:#1e0010">.</span>RowCount(firewallEventsWithProperDatetime) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> then firewallEventsWithProperDatetime{<span style="color:#ae81ff">0</span>}[datetime] else null,
</span></span><span style="display:flex;"><span>        formattedFirstDate <span style="color:#f92672">=</span> if firstDate <span style="color:#f92672">&lt;&gt;</span> null then DateTime<span style="color:#960050;background-color:#1e0010">.</span>ToText(firstDate, <span style="color:#e6db74">&#34;dd/MM/yyyy HH:mm:ss&#34;</span>) else null,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">//</span> Add the formatted date as a new column
</span></span><span style="display:flex;"><span>        firewallEventsWithFormattedDate <span style="color:#f92672">=</span> Table<span style="color:#960050;background-color:#1e0010">.</span>AddColumn(firewallEventsWithProperDatetime, <span style="color:#e6db74">&#34;FormattedFirstDate&#34;</span>, each formattedFirstDate)
</span></span><span style="display:flex;"><span>    in
</span></span><span style="display:flex;"><span>        firewallEventsWithFormattedDate,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span> Fetch the list of zones from the API
</span></span><span style="display:flex;"><span>    zones <span style="color:#f92672">=</span> Json<span style="color:#960050;background-color:#1e0010">.</span>Document(
</span></span><span style="display:flex;"><span>        Web<span style="color:#960050;background-color:#1e0010">.</span>Contents(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;https://api.cloudflare.com/client/v4/zones&#34;</span>, 
</span></span><span style="display:flex;"><span>            [
</span></span><span style="display:flex;"><span>                Headers <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                    #<span style="color:#e6db74">&#34;Content-Type&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;application/json&#34;</span>, 
</span></span><span style="display:flex;"><span>                    Authorization <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Bearer APIKEY&#34;</span>
</span></span><span style="display:flex;"><span>                ]
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    ),
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span> Extract the result from the zones response
</span></span><span style="display:flex;"><span>    result <span style="color:#f92672">=</span> zones[result],
</span></span><span style="display:flex;"><span>    processedResults <span style="color:#f92672">=</span> List<span style="color:#960050;background-color:#1e0010">.</span>Transform(result, each [id <span style="color:#f92672">=</span> _[id], name <span style="color:#f92672">=</span> _[name]]),
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span> Apply the custom function to each zone and combine the results into a single table
</span></span><span style="display:flex;"><span>    transformedRecords <span style="color:#f92672">=</span> List<span style="color:#960050;background-color:#1e0010">.</span>Transform(processedResults, each getFirewallEvents(_[id], _[name])),
</span></span><span style="display:flex;"><span>    combinedTable <span style="color:#f92672">=</span> Table<span style="color:#960050;background-color:#1e0010">.</span>Combine(transformedRecords)
</span></span><span style="display:flex;"><span>in
</span></span><span style="display:flex;"><span>    combinedTable
</span></span></code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>By leveraging Power Query in Power BI, I was able to simplify the entire process of fetching and displaying Cloudflare data. There was no need for PowerShell, Runbooks, or external storage solutions.</p>
<p>This approach not only saved time but also kept the workflow streamlined, allowing the dashboard to dynamically fetch the required data. If you’re looking to integrate Cloudflare data into Power BI, this method is both practical and effective.</p>
<hr>
 
    </div>
<button class="ns-share-btn" type="button" title="Share this article">
  <svg class="ns-share-icon">
    <use href="#share-icon"></use>
  </svg>
  <span>Share Article</span>
</button>

<svg class="ns-hidden">
  <defs>
    <symbol id="share-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line></symbol> 
   </defs>
</svg>
 </main>
 
   
    <div style="height: 35px"></div>
<footer>
  <div>
    <p>Copyright (c) 2025 Normansolutions</p>
  </div>
</footer>
  
    <script>
    if('serviceWorker' in navigator) {
        navigator.serviceWorker
            .register('/sw.js', { scope: '/' })
            .then(function(registration) {
                
            });
  
        navigator.serviceWorker
            .ready
            .then(function(registration) {
                
            });
    }
  </script>
    






<script
  src="/js/bundle.min.687393ed5d02ad59aaea69fafefb07c4c20dd118b8b01f9ba380cb1330ecd1ea.js?v=ns-fingerprint"
  integrity="sha256-aHOT7V0CrVmq6mn6/vsHxMIN0Ri4sB&#43;bo4DLEzDs0eo="
  defer
  crossorigin="anonymous"
></script>

    <script
  async
  src="https://www.googletagmanager.com/gtag/js?id=UA-37453744-1"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "UA-37453744-1");
</script>

    